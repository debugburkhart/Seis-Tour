<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sortable Flex Table</title>
<style>
  .flex-table {
    display: flex;
    flex-direction: column;<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sortable Flex Table</title><!DOCTYPE html>
<html lang="en"><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seis Tour Stats</title>
    <style>
        /* Add CSS styles for the flex table here */
        .flex-table {
            display: flex;
            flex-direction: column;
            margin: 20px;
        }
        .flex-table-header, .flex-table-row {
            display: flex;
            border-bottom: 1px solid #ccc;
            padding: 10px 0;
        }
        .flex-table-row > div {
            flex: 1;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Seis Tour Stats - 2023 Season Totals</h1>
    <div class="flex-table" id="flexTable">
        <div class="flex-table-header">
            <div class="sortable" data-column="0">Player Name</div>
            <div class="sortable" data-column="1">Total Score</div>
            <!-- Add more headers if needed -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const flexTable = document.getElementById('flexTable');

            // Fetch and parse CSV data
            fetch('https://raw.githubusercontent.com/debugburkhart/seis-tour/main/Seis%20Tour%20Stats%20-%202023%20Season%20Totals.csv')
                .then(response => response.text())
                .then(csvData => {
                    const rows = csvData.split('\n').map(row => row.split(','));
                    const headers = rows.shift();

                    // Populate table headers
                    const headerRow = document.createElement('div');
                    headerRow.classList.add('flex-table-header');
                    headers.forEach(header => {
                        const div = document.createElement('div');
                        div.textContent = header;
                        headerRow.appendChild(div);
                    });
                    flexTable.appendChild(headerRow);

                    // Populate table rows
                    rows.forEach(rowData => {
                        const row = document.createElement('div');
                        row.classList.add('flex-table-row');
                        rowData.forEach(cellData => {
                            const div = document.createElement('div');
                            div.textContent = cellData;
                            row.appendChild(div);
                        });
                        flexTable.appendChild(row);
                    });
                })
                .catch(error => console.error('Error fetching CSV:', error));

            // Sort functionality
            document.querySelectorAll('.sortable').forEach(header => {
                header.addEventListener('click', () => {
                    const column = parseInt(header.dataset.column);
                    const rows = Array.from(flexTable.querySelectorAll('.flex-table-row'));

                    rows.sort((a, b) => {
                        const aValue = a.children[column].textContent.trim();
                        const bValue = b.children[column].textContent.trim();
                        return aValue.localeCompare(bValue, undefined, { numeric: true, sensitivity: 'base' });
                    });

                    flexTable.innerHTML = ''; // Clear existing rows

                    const sortedHeader = document.createElement('div');
                    sortedHeader.classList.add('flex-table-header');
                    headers.forEach((header, index) => {
                        const div = document.createElement('div');
                        div.textContent = header;
                        if (index === column) div.classList.add('sorted');
                        sortedHeader.appendChild(div);
                    });
                    flexTable.appendChild(sortedHeader);

                    rows.forEach(row => flexTable.appendChild(row));
                });
            });
        });
    </script>
</body>
</html>

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sortable Flex Table</title>
<style>
  .flex-table {
    display: flex;
    flex-direction: column;
  }
  .flex-table-row {
    display: flex;
  }
  .flex-table-cell {
    flex: 1;
    padding: 8px;
    border: 1px solid #ddd;
    cursor: pointer; /* Add cursor pointer for clickable cells */
  }
</style>
</head>
<body>
  <div class="flex-table" id="sortable-table"></div>

  <script>
    const sortStates = {}; // Object to store sorting state for each column

    async function loadCSV(url) {
      const response = await fetch(url);
      const data = await response.text();
      return data;
    }

    function parseCSV(csvData) {
      const rows = csvData.split('\n');
      const headerRow = rows[0].split(',');

      const table = document.getElementById('sortable-table');
      table.innerHTML = ''; // Clear existing content

      // Create header row
      const headerRowElem = document.createElement('div');
      headerRowElem.classList.add('flex-table-row');
      headerRow.forEach(column => {
        const cell = document.createElement('div');
        cell.classList.add('flex-table-cell');
        cell.textContent = column;
        cell.onclick = () => sortTable(headerRow.indexOf(column));
        headerRowElem.appendChild(cell);
      });
      table.appendChild(headerRowElem);

      // Create data rows
      for (let i = 1; i < rows.length; i++) {
        const rowData = rows[i].split(',');
        const dataRowElem = document.createElement('div');
        dataRowElem.classList.add('flex-table-row');
        rowData.forEach(value => {
          const cell = document.createElement('div');
          cell.classList.add('flex-table-cell');
          cell.textContent = value;
          dataRowElem.appendChild(cell);
        });
        table.appendChild(dataRowElem);
      }
    }

    function sortTable(columnIndex) {
      const table = document.getElementById('sortable-table');
      const rows = Array.from(table.querySelectorAll('.flex-table-row')).slice(1); // Exclude header row

      // Toggle sorting state for the column
      sortStates[columnIndex] = sortStates[columnIndex] === 'asc' ? 'desc' : 'asc';

      const sortedRows = rows.sort((a, b) => {
        const aValue = a.children[columnIndex].textContent.trim();
        const bValue = b.children[columnIndex].textContent.trim();

        if (sortStates[columnIndex] === 'asc') {
          return aValue.localeCompare(bValue);
        } else if (sortStates[columnIndex] === 'desc') {
          return bValue.localeCompare(aValue);
        } else {
          // Unsorted state, maintain current order
          return 0;
        }
      });

      table.innerHTML = ''; // Clear table content except header row

      // Re-append sorted rows to the table
      sortedRows.forEach(row => table.appendChild(row));
    }

    // Load and parse CSV data
    const csvUrl = 'Seis Tour Stats - 2023 Season Totals.csv';
    loadCSV(csvUrl)
      .then(csvData => parseCSV(csvData))
      .catch(error => console.error('Error loading CSV:', error));
  </script>
</body>
</html>

<style>
  .flex-table {
    display: flex;
    flex-direction: column;
  }
  .flex-table-row {
    display: flex;
  }
  .flex-table-cell {
    flex: 1;
    padding: 8px;
    border: 1px solid #ddd;
    cursor: pointer; /* Add cursor pointer for clickable cells */
  }
</style>
</head>
<body>
  <div class="flex-table" id="sortable-table"></div>

  <script>
    const sortStates = {}; // Object to store sorting state for each column

    async function loadCSV(url) {
      const response = await fetch(url);
      const data = await response.text();
      return data;
    }

    function parseCSV(csvData) {
      const rows = csvData.split('\n');
      const headerRow = rows[0].split(',');

      const table = document.getElementById('sortable-table');
      table.innerHTML = ''; // Clear existing content

      // Create header row
      const headerRowElem = document.createElement('div');
      headerRowElem.classList.add('flex-table-row');
      headerRow.forEach(column => {
        const cell = document.createElement('div');
        cell.classList.add('flex-table-cell');
        cell.textContent = column;
        cell.onclick = () => sortTable(headerRow.indexOf(column));
        headerRowElem.appendChild(cell);
      });
      table.appendChild(headerRowElem);

      // Create data rows
      for (let i = 1; i < rows.length; i++) {
        const rowData = rows[i].split(',');
        const dataRowElem = document.createElement('div');
        dataRowElem.classList.add('flex-table-row');
        rowData.forEach(value => {
          const cell = document.createElement('div');
          cell.classList.add('flex-table-cell');
          cell.textContent = value;
          dataRowElem.appendChild(cell);
        });
        table.appendChild(dataRowElem);
      }
    }

    function sortTable(columnIndex) {
      const table = document.getElementById('sortable-table');
      const rows = Array.from(table.querySelectorAll('.flex-table-row')).slice(1); // Exclude header row

      // Toggle sorting state for the column
      sortStates[columnIndex] = sortStates[columnIndex] === 'asc' ? 'desc' : 'asc';

      const sortedRows = rows.sort((a, b) => {
        const aValue = a.children[columnIndex].textContent.trim();
        const bValue = b.children[columnIndex].textContent.trim();

        if (sortStates[columnIndex] === 'asc') {
          return aValue.localeCompare(bValue);
        } else if (sortStates[columnIndex] === 'desc') {
          return bValue.localeCompare(aValue);
        } else {
          // Unsorted state, maintain current order
          return 0;
        }
      });

      table.innerHTML = ''; // Clear table content except header row

      // Re-append sorted rows to the table
      sortedRows.forEach(row => table.appendChild(row));
    }

    // Load and parse CSV data
    const csvUrl = 'Seis Tour Stats - 2023 Season Totals.csv';
    loadCSV(csvUrl)
      .then(csvData => parseCSV(csvData))
      .catch(error => console.error('Error loading CSV:', error));
  </script>
</body>
</html>

  }
  .flex-table-row {
    display: flex;
  }
  .flex-table-cell {
    flex: 1;
    padding: 8px;
    border: 1px solid #ddd;
    cursor: pointer; /* Add cursor pointer for clickable cells */
  }
</style>
</head>
<body>
  <div class="flex-table" id="sortable-table">
    <div class="flex-table-row">
      <div class="flex-table-cell" onclick="sortTable(0)">Name</div>
      <div class="flex-table-cell" onclick="sortTable(1)">Age</div>
      <div class="flex-table-cell" onclick="sortTable(2)">Country</div>
    </div>
    <div class="flex-table-row">
      <div class="flex-table-cell">John Doe</div>
      <div class="flex-table-cell">25</div>
      <div class="flex-table-cell">USA</div>
    </div>
    <div class="flex-table-row">
      <div class="flex-table-cell">Jane Smith</div>
      <div class="flex-table-cell">30</div>
      <div class="flex-table-cell">Canada</div>
    </div>
    <div class="flex-table-row">
      <div class="flex-table-cell">Michael Johnson</div>
      <div class="flex-table-cell">22</div>
      <div class="flex-table-cell">UK</div>
    </div>
  </div>

  <script>
    const sortStates = {}; // Object to store sorting state for each column

    function sortTable(columnIndex) {
      const table = document.getElementById('sortable-table');
      const rows = Array.from(table.querySelectorAll('.flex-table-row')).slice(1); // Exclude header row
      const headerRow = table.querySelector('.flex-table-row');

      // Toggle sorting state for the column
      sortStates[columnIndex] = sortStates[columnIndex] === 'asc' ? 'desc' : 'asc';

      const sortedRows = rows.sort((a, b) => {
        const aValue = a.children[columnIndex].textContent.trim();
        const bValue = b.children[columnIndex].textContent.trim();

        if (sortStates[columnIndex] === 'asc') {
          return aValue.localeCompare(bValue);
        } else if (sortStates[columnIndex] === 'desc') {
          return bValue.localeCompare(aValue);
        } else {
          // Unsorted state, maintain current order
          return 0;
        }
      });

      // Re-append header row to the table
      table.appendChild(headerRow);

      table.innerHTML = ''; // Clear table content except header row

      // Re-append sorted rows to the table
      sortedRows.forEach(row => table.appendChild(row));
    }
  </script>
</body>
</html>
